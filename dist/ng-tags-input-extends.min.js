!function(n,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("angular"),require("ng-tags-input"));else if("function"==typeof define&&define.amd)define(["angular","ng-tags-input"],t);else{var e="object"==typeof exports?t(require("angular"),require("ng-tags-input")):t(n.angular,n[!1]);for(var r in e)("object"==typeof exports?exports:n)[r]=e[r]}}(this,function(n,t){return function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return n[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){(function(n){"use strict";e(3),e(4),n.module("ngTagsInput.extends",["ngTagsInput.extends.changeTo"])}).call(t,e(1))},function(n,t,e){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var o=e(2),u=r(o);if(!$)throw new Error("ngTagsInput.extends requires a AngularJS");n.exports=u["default"]},function(t,e){t.exports=n},function(n,e){n.exports=t},function(n,t,e){(function(n){"use strict";n.module("ngTagsInput.extends.changeTo",["ngTagsInput"]).constant("tagsChangeToConfig",{seperator:"|"}).directive("tagsChangeTo",["tagsChangeToConfig","$parse","uniqueFilter",function(t,e,r){return{restrict:"AC",require:"tagsInput",link:function(o,u,i){var a,s,f,l,c,p,g,d;s=e(i.ngModel),g=s.assign,f=e(i.tagsChangeTo),d=f.assign,p=t.seperator,i.$observe("tagsChangeToSeperator",function(n){return p=n||t.seperator}),l=null,i.$observe("keyProperty",function(n){return l=n}),a="text",i.$observe("displayProperty",function(n){return a=n||"text"}),c=function(n,t){var e;return e={},e[n]=t,e},o.$watch(f,function(t){var e;return null!=g?g(o,function(){var o,u,i,s,f;for(s=r("array"===p?null==t?t=[]:n.isArray(t)?void 0:t=[t]:(null!=t&&"function"==typeof t.split&&null!=(i=t.split(p))&&"function"==typeof i.filter?i.filter(function(n){return!!n}):void 0)||[]),f=[],o=0,u=s.length;u>o;o++)e=s[o],f.push(c(l||a,e));return f}()):void 0}),o.$watchCollection(function(){var n,t,e,r,u;for(e=s(o)||[],r=[],n=0,t=e.length;t>n;n++)u=e[n],r.push(u[l||a]);return r},function(n){return null!=n&&null!=d?d(o,"array"===p?n:n.join(p)):void 0})}}}])}).call(t,e(1))}])});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nLXRhZ3MtaW5wdXQtZXh0ZW5kcy5taW4uanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fIiwiX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18iLCJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsImFuZ3VsYXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfYW5ndWxhciIsIl9hbmd1bGFyMiIsIiQiLCJFcnJvciIsImNvbnN0YW50Iiwic2VwZXJhdG9yIiwiZGlyZWN0aXZlIiwidGFnc0NoYW5nZVRvQ29uZmlnIiwiJHBhcnNlIiwidW5pcXVlRmlsdGVyIiwicmVzdHJpY3QiLCJsaW5rIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJkaXNwbGF5UHJvcGVydHkiLCJnZXRNb2RlbCIsImdldFRvIiwia2V5UHJvcGVydHkiLCJtYWtlT2JqZWN0Iiwic2V0TW9kZWwiLCJzZXRUbyIsIm5nTW9kZWwiLCJhc3NpZ24iLCJ0YWdzQ2hhbmdlVG8iLCIkb2JzZXJ2ZSIsInZhbHVlIiwiayIsInYiLCJvIiwiJHdhdGNoIiwidGFnIiwibGVuIiwicmVmIiwicmVmMSIsInJlc3VsdHMiLCJpc0FycmF5Iiwic3BsaXQiLCJmaWx0ZXIiLCJsZW5ndGgiLCJwdXNoIiwiJHdhdGNoQ29sbGVjdGlvbiIsInRhZ3MiLCJqb2luIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUEyQ0EsRUFBTUMsR0FDaEQsR0FBc0IsZ0JBQVpDLFVBQTBDLGdCQUFYQyxRQUN4Q0EsT0FBT0QsUUFBVUQsRUFBUUcsUUFBUSxXQUFZQSxRQUFRLHNCQUNq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T0FBeUQsT0FBakNKLEVBQU1QLEVBQU1XLE1BQU1oQyxLQUE0QyxrQkFBZjRCLEdBQUlLLE9BQXdCTCxFQUFJSyxPQUFPLFNBQVMxRCxHQUNqUixRQUFTQSxJQUNxQixhQUNoQ3VELEtBQ0t0RCxFQUFJLEVBQUdtRCxFQUFNRSxFQUFLSyxPQUFZUCxFQUFKbkQsRUFBU0EsSUFDdENrRCxFQUFNRyxFQUFLckQsR0FDWHNELEVBQVFLLEtBQUtyQixFQUFXRCxHQUFlSCxFQUFpQmdCLEdBRTFELE9BQU9JLE9BWFgsU0FlRnZCLEVBQU02QixpQkFBaUIsV0FDckIsR0FBSTVELEdBQUdtRCxFQUFLQyxFQUFLRSxFQUFTSixDQUcxQixLQUZBRSxFQUFNakIsRUFBU0osT0FDZnVCLEtBQ0t0RCxFQUFJLEVBQUdtRCxFQUFNQyxFQUFJTSxPQUFZUCxFQUFKbkQsRUFBU0EsSUFDckNrRCxFQUFNRSxFQUFJcEQsR0FDVnNELEVBQVFLLEtBQUtULEVBQUliLEdBQWVILEdBRWxDLE9BQU9vQixJQUNOLFNBQVNPLEdBQ1YsTUFBYSxPQUFSQSxHQUEyQixNQUFUckIsRUFDZEEsRUFBTVQsRUFBcUIsVUFBZFAsRUFBd0JxQyxFQUFPQSxFQUFLQyxLQUFLdEMsSUFEL0QsZ0JBU21CZCxLQUFLaEIsRUFBU1csRUFBb0IiLCJmaWxlIjoibmctdGFncy1pbnB1dC1leHRlbmRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImFuZ3VsYXJcIiksIHJlcXVpcmUoXCJuZy10YWdzLWlucHV0XCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcImFuZ3VsYXJcIiwgXCJuZy10YWdzLWlucHV0XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBmYWN0b3J5KHJlcXVpcmUoXCJhbmd1bGFyXCIpLCByZXF1aXJlKFwibmctdGFncy1pbnB1dFwiKSkgOiBmYWN0b3J5KHJvb3RbXCJhbmd1bGFyXCJdLCByb290W2ZhbHNlXSk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18pIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0X193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHRhbmd1bGFyLm1vZHVsZSgnbmdUYWdzSW5wdXQuZXh0ZW5kcycsIFsnbmdUYWdzSW5wdXQuZXh0ZW5kcy5jaGFuZ2VUbyddKTtcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oMSkpKVxuXG4vKioqLyB9LFxuLyogMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF9hbmd1bGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfYW5ndWxhcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmd1bGFyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRpZiAoISQpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcihcIm5nVGFnc0lucHV0LmV4dGVuZHMgcmVxdWlyZXMgYSBBbmd1bGFySlNcIik7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gX2FuZ3VsYXIyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXztcblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXHRhbmd1bGFyLm1vZHVsZSgnbmdUYWdzSW5wdXQuZXh0ZW5kcy5jaGFuZ2VUbycsIFsnbmdUYWdzSW5wdXQnXSkuY29uc3RhbnQoJ3RhZ3NDaGFuZ2VUb0NvbmZpZycsIHtcblx0ICBzZXBlcmF0b3I6ICd8J1xuXHR9KS5kaXJlY3RpdmUoJ3RhZ3NDaGFuZ2VUbycsIFtcblx0ICAndGFnc0NoYW5nZVRvQ29uZmlnJywgJyRwYXJzZScsICd1bmlxdWVGaWx0ZXInLCBmdW5jdGlvbih0YWdzQ2hhbmdlVG9Db25maWcsICRwYXJzZSwgdW5pcXVlRmlsdGVyKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICByZXN0cmljdDogJ0FDJyxcblx0ICAgICAgcmVxdWlyZTogJ3RhZ3NJbnB1dCcsXG5cdCAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXHQgICAgICAgIHZhciBkaXNwbGF5UHJvcGVydHksIGdldE1vZGVsLCBnZXRUbywga2V5UHJvcGVydHksIG1ha2VPYmplY3QsIHNlcGVyYXRvciwgc2V0TW9kZWwsIHNldFRvO1xuXHQgICAgICAgIGdldE1vZGVsID0gJHBhcnNlKGF0dHJzLm5nTW9kZWwpO1xuXHQgICAgICAgIHNldE1vZGVsID0gZ2V0TW9kZWwuYXNzaWduO1xuXHQgICAgICAgIGdldFRvID0gJHBhcnNlKGF0dHJzLnRhZ3NDaGFuZ2VUbyk7XG5cdCAgICAgICAgc2V0VG8gPSBnZXRUby5hc3NpZ247XG5cdCAgICAgICAgc2VwZXJhdG9yID0gdGFnc0NoYW5nZVRvQ29uZmlnLnNlcGVyYXRvcjtcblx0ICAgICAgICBhdHRycy4kb2JzZXJ2ZSgndGFnc0NoYW5nZVRvU2VwZXJhdG9yJywgZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgIHJldHVybiBzZXBlcmF0b3IgPSB2YWx1ZSB8fCB0YWdzQ2hhbmdlVG9Db25maWcuc2VwZXJhdG9yO1xuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIGtleVByb3BlcnR5ID0gbnVsbDtcblx0ICAgICAgICBhdHRycy4kb2JzZXJ2ZSgna2V5UHJvcGVydHknLCBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgcmV0dXJuIGtleVByb3BlcnR5ID0gdmFsdWU7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgZGlzcGxheVByb3BlcnR5ID0gJ3RleHQnO1xuXHQgICAgICAgIGF0dHJzLiRvYnNlcnZlKCdkaXNwbGF5UHJvcGVydHknLCBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgcmV0dXJuIGRpc3BsYXlQcm9wZXJ0eSA9IHZhbHVlIHx8ICd0ZXh0Jztcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBtYWtlT2JqZWN0ID0gZnVuY3Rpb24oaywgdikge1xuXHQgICAgICAgICAgdmFyIG87XG5cdCAgICAgICAgICBvID0ge307XG5cdCAgICAgICAgICBvW2tdID0gdjtcblx0ICAgICAgICAgIHJldHVybiBvO1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgc2NvcGUuJHdhdGNoKGdldFRvLCBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgICAgdmFyIHRhZztcblx0ICAgICAgICAgIGlmIChzZXRNb2RlbCAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzZXRNb2RlbChzY29wZSwgKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgIHZhciBpLCBsZW4sIHJlZiwgcmVmMSwgcmVzdWx0cztcblx0ICAgICAgICAgICAgICByZWYxID0gdW5pcXVlRmlsdGVyKHNlcGVyYXRvciA9PT0gJ2FycmF5JyA/IHZhbHVlID09IG51bGwgPyB2YWx1ZSA9IFtdIDogIWFuZ3VsYXIuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA9IFt2YWx1ZV0gOiB2b2lkIDAgOiAodmFsdWUgIT0gbnVsbCA/IHR5cGVvZiB2YWx1ZS5zcGxpdCA9PT0gXCJmdW5jdGlvblwiID8gKHJlZiA9IHZhbHVlLnNwbGl0KHNlcGVyYXRvcikpICE9IG51bGwgPyB0eXBlb2YgcmVmLmZpbHRlciA9PT0gXCJmdW5jdGlvblwiID8gcmVmLmZpbHRlcihmdW5jdGlvbihhKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gISFhO1xuXHQgICAgICAgICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwKSB8fCBbXSk7XG5cdCAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuXHQgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHJlZjEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHRhZyA9IHJlZjFbaV07XG5cdCAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gobWFrZU9iamVjdChrZXlQcm9wZXJ0eSB8fCBkaXNwbGF5UHJvcGVydHksIHRhZykpO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcblx0ICAgICAgICAgICAgfSkoKSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIHZhciBpLCBsZW4sIHJlZiwgcmVzdWx0cywgdGFnO1xuXHQgICAgICAgICAgcmVmID0gZ2V0TW9kZWwoc2NvcGUpIHx8IFtdO1xuXHQgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuXHQgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdCAgICAgICAgICAgIHRhZyA9IHJlZltpXTtcblx0ICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHRhZ1trZXlQcm9wZXJ0eSB8fCBkaXNwbGF5UHJvcGVydHldKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgICAgIH0sIGZ1bmN0aW9uKHRhZ3MpIHtcblx0ICAgICAgICAgIGlmICgodGFncyAhPSBudWxsKSAmJiAoc2V0VG8gIT0gbnVsbCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHNldFRvKHNjb3BlLCBzZXBlcmF0b3IgPT09ICdhcnJheScgPyB0YWdzIDogdGFncy5qb2luKHNlcGVyYXRvcikpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgIH1cblx0XSk7XG5cdFxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwoZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXygxKSkpXG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
